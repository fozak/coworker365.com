<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Getting Error if I click on “Mark Attendance” in Shift Type - Frappe HR - Frappe Forum</title>
    <meta name="description" content="Information about bug 
AttributeError: ‘NoneType’ object has no attribute ‘date’ 
Possible source of error: hrms (app) 
The attendance button worked worked just Fine for my other shifts but on a specific shift its giving&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.2 - https://github.com/discourse/discourse version 44986e4c0c3acf127ce03216227dd11cc78f4466">
<link rel="icon" type="image/png" href="https://discuss.coworker365.com/uploads/default/optimized/3X/a/5/a5e946e67fbe05a61d1c33d08894876d4d9dea7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://discuss.coworker365.com/uploads/default/optimized/3X/a/5/a5e946e67fbe05a61d1c33d08894876d4d9dea7a_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.coworker365.com/opensearch.xml" title="Frappe Forum Search">

    <link href="/stylesheets/color_definitions_light_8_12_296e8563dbd3c739bd4eafc35307bea3d2a15178.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="8"/>

<link href="/stylesheets/common_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="/stylesheets/desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="/stylesheets/checklist_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="/stylesheets/discourse-details_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="/stylesheets/discourse-lazy-videos_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="/stylesheets/discourse-local-dates_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="/stylesheets/discourse-narrative-bot_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="/stylesheets/discourse-solved_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="/stylesheets/discourse-templates_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="/stylesheets/discourse-topic-voting_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="/stylesheets/docker_manager_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="/stylesheets/footnote_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="/stylesheets/poll_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="/stylesheets/spoiler-alert_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="/stylesheets/discourse-topic-voting_desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="/stylesheets/poll_desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="/stylesheets/common_theme_12_608350f9691b80d810a6d8eaf4a08f6acc589e94.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="12" data-theme-name="erpnext"/>
    <link href="/stylesheets/desktop_theme_12_1843eada91b7bd1c5a6c17799765c3af197a4c6e.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="12" data-theme-name="erpnext"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Getting Error if I click on “Mark Attendance” in Shift Type&#39;" href="https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344.rss" />
    <meta property="og:site_name" content="Frappe Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://discuss.coworker365.com/uploads/default/original/3X/0/b/0b28794440eb26973e11119effb9e80dcb726e09.png" />
<meta property="og:image" content="https://discuss.coworker365.com/uploads/default/original/3X/0/b/0b28794440eb26973e11119effb9e80dcb726e09.png" />
<meta property="og:url" content="https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344" />
<meta name="twitter:url" content="https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344" />
<meta property="og:title" content="Getting Error if I click on “Mark Attendance” in Shift Type" />
<meta name="twitter:title" content="Getting Error if I click on “Mark Attendance” in Shift Type" />
<meta property="og:description" content="Information about bug  AttributeError: ‘NoneType’ object has no attribute ‘date’  Possible source of error: hrms (app)  The attendance button worked worked just Fine for my other shifts but on a specific shift its giving the error  I have opened a issue on github to but Its been two days and there is no response on it.  I have provided the whole stack trace on the github please If someone could help me on this issue it will be very appreciated  Link to github issue:" />
<meta name="twitter:description" content="Information about bug  AttributeError: ‘NoneType’ object has no attribute ‘date’  Possible source of error: hrms (app)  The attendance button worked worked just Fine for my other shifts but on a specific shift its giving the error  I have opened a issue on github to but Its been two days and there is no response on it.  I have provided the whole stack trace on the github please If someone could help me on this issue it will be very appreciated  Link to github issue:" />
<meta property="og:article:section" content="Frappe HR" />
<meta property="og:article:section:color" content="ffd478" />
<meta property="og:article:tag" content="attendance" />
<meta property="og:article:tag" content="hr" />
<meta property="og:article:tag" content="auto-attendance" />
<meta property="article:published_time" content="2024-05-03T05:31:29+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Getting Error if I click on “Mark Attendance” in Shift Type","mainEntity":{"@type":"Question","name":"Getting Error if I click on “Mark Attendance” in Shift Type","text":"Information about bug\n\nAttributeError: ‘NoneType’ object has no attribute ‘date’\n\nPossible source of error: hrms (app)\n\nThe attendance button worked worked just Fine for my other shifts but on a specific shift its giving the error\n\nI have opened a issue on github to but Its been two days and there i&hellip;","upvoteCount":0,"answerCount":0,"datePublished":"2024-05-03T05:31:29.778Z","author":{"@type":"Person","name":"Zeeshan_Baig","url":"https://discuss.coworker365.com/u/Zeeshan_Baig"}}}</script>
  </head>
  <body class="crawler ">
    <div class="erpnext-header">
    <a href="https://coworker365.com" target="_blank">coworker365.com</a>
    <a href="https://frappecloud.com" target="_blank">Frappe Cloud</a>
    <a href="https://docs.coworker365.com/" target="_blank">Documentation</a>
    <a href="https://coworker365.com/partners" target="_blank">Partners</a>
    <a href="https://frappe.school" target="_blank">Frappe School</a>
    <a href="https://frappecloud.com/marketplace" target="_blank">Marketplace</a>
    <a href="https://t.me/erpnext_public" target="_blank">Public Chat</a>
</div>

    <header>
  <a href="/">Frappe Forum</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344">Getting Error if I click on “Mark Attendance” in Shift Type</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="/c/hr/22" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #ffd478'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Frappe HR</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='https://discuss.coworker365.com/tag/attendance' class='discourse-tag' rel="tag">attendance</a>, 
            <a href='https://discuss.coworker365.com/tag/hr' class='discourse-tag' rel="tag">hr</a>, 
            <a href='https://discuss.coworker365.com/tag/auto-attendance' class='discourse-tag' rel="tag">auto-attendance</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Getting Error if I click on “Mark Attendance” in Shift Type'>
      <link itemprop='url' href='https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344'>
      <meta itemprop='datePublished' content='2024-05-03T05:31:29Z'>
        <meta itemprop='articleSection' content='Frappe HR'>
      <meta itemprop='keywords' content='attendance, hr, auto-attendance'>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Frappe'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://discuss.coworker365.com/uploads/default/original/3X/e/1/e1295d1f76ba489dd58f8c9b55eee88286fc9a31.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/Zeeshan_Baig'><span itemprop='name'>Zeeshan_Baig</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="https://discuss.coworker365.com/t/getting-error-if-i-click-on-mark-attendance-in-shift-type/122344">


              <span class="crawler-post-infos">
                  <time  datetime='2024-05-03T05:31:29Z' class='post-time'>
                    May 3, 2024,  5:31am
                  </time>
                  <meta itemprop='dateModified' content='2024-05-03T05:31:29Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Information about bug</p>
<p>AttributeError: ‘NoneType’ object has no attribute ‘date’<br>
Possible source of error: hrms (app)</p>
<p>The attendance button worked worked just Fine for my other shifts but on a specific shift its giving the error</p>
<p>I have opened a issue on github to but Its been two days and there is no response on it.<br>
I have provided the whole stack trace on the github please If someone could help me on this issue it will be very appreciated</p>
<p>Link to github issue:</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/frappe/hrms/issues/1739">
  <header class="source">

      <a href="https://github.com/frappe/hrms/issues/1739" target="_blank" rel="noopener nofollow ugc">github.com/frappe/hrms</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/frappe/hrms/issues/1739" target="_blank" rel="noopener nofollow ugc">Getting Error if I click on “Mark Attendance” in Shift Type</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-05-01" data-time="15:04:49" data-timezone="UTC">03:04PM - 01 May 24 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/ZeshanArif27" target="_blank" rel="noopener nofollow ugc">
          <img alt="ZeshanArif27" src="https://avatars.githubusercontent.com/u/127681403?v=4" class="onebox-avatar-inline" width="20" height="20">
          ZeshanArif27
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          bug
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">### Information about bug

### Information about bug

AttributeError: ‘NoneTyp<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">e’ object has no attribute ‘date’
Possible source of error: hrms (app)

The attendance button worked worked just Fine for my other shifts but on a specific shift its giving the error

It worked just fine on the below shift 
![Screenshot (18)](https://github.com/frappe/hrms/assets/127681403/edcb0c4b-9abb-44cc-9933-f33f039d6e4f)


But Its giving error on this shift
![Screenshot (19)](https://github.com/frappe/hrms/assets/127681403/ab430962-42ce-4f97-a2d3-2c8953bd19c6)


Is this a bug? Is there a workaround available? Or I am Doing something wrong?

Best regards
M. Zeeshan Baig
Module

### HR Version

erpnext 16.0.0-dev
frappe 15.22.0
hrms 16.0.0-dev

### Installation method
Manual

### Relevant log output / Stack trace / Full Error Message.

AttributeError: ‘NoneType’ object has no attribute ‘date’
Possible source of error: hrms (app)

Below is the whole error which I copied to the clipboard




### Module

HR

### Version

### App Versions
```
{
	"erpnext": "16.0.0-dev",
	"frappe": "15.22.0",
	"hrms": "16.0.0-dev",
	"print_designer": "1.0.0",
	"whitelabel": "0.0.1"
}
```

### Installation method

manual install

### Relevant log output / Stack trace / Full Error Message.

```shell
### Route

Form/Shift Type/Office Timing
```
### Traceback
```
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 110, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/api/__init__.py", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/api/v1.py", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/handler.py", line 49, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/handler.py", line 85, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/__init__.py", line 1718, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/handler.py", line 326, in run_doc_method
    response = doc.run_method(method)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/model/document.py", line 962, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/model/document.py", line 1322, in composer
    return composed(self, method, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/model/document.py", line 1304, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/model/document.py", line 959, in fn
    return method_object(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "apps/frappe/frappe/utils/typing_validations.py", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "apps/hrms/hrms/hr/doctype/shift_type/shift_type.py", line 41, in process_auto_attendance
    attendance_date = key[1].date()
                      ^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'date'

```
### Request Data
```
{
	"type": "POST",
	"args": {
		"docs": "{\"name\":\"Office Timing\",\"owner\":\"wajeeh@mmcgbl.com\",\"creation\":\"2024-04-17 15:13:45.907249\",\"modified\":\"2024-05-01 19:34:38.141075\",\"modified_by\":\"wajeeh@mmcgbl.com\",\"docstatus\":0,\"idx\":21140,\"start_time\":\"10:00:00\",\"end_time\":\"19:00:00\",\"holiday_list\":\"Pakistan National Holidays\",\"enable_auto_attendance\":1,\"determine_check_in_and_check_out\":\"Alternating entries as IN and OUT during the same shift\",\"working_hours_calculation_based_on\":\"First Check-in and Last Check-out\",\"begin_check_in_before_shift_start_time\":60,\"allow_check_out_after_shift_end_time\":259,\"mark_auto_attendance_on_holidays\":1,\"working_hours_threshold_for_half_day\":5,\"working_hours_threshold_for_absent\":0,\"process_attendance_after\":\"2024-03-01\",\"last_sync_of_checkin\":\"2024-03-10 23:59:59\",\"enable_late_entry_marking\":1,\"late_entry_grace_period\":30,\"enable_early_exit_marking\":1,\"early_exit_grace_period\":60,\"doctype\":\"Shift Type\"}",
		"method": "process_auto_attendance"
	},
	"freeze": true,
	"headers": {},
	"error_handlers": {},
	"url": "/api/method/run_doc_method",
	"request_id": null
}
```
### Response Data
```
{
	"exception": "AttributeError: 'NoneType' object has no attribute 'date'",
	"exc_type": "AttributeError",
	"_exc_source": "hrms (app)"
}
```
```


### Code of Conduct

- [X] I agree to follow this project's Code of Conduct</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/M.Toseef'><span itemprop='name'>M.Toseef</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-30T11:30:30Z' class='post-time'>
                    July 30, 2025, 11:30am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-30T11:30:30Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Did you find the solution?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="erpnext-footer">
    <a href="https://coworker365.com">Frappe</a>
</div>
    
  </body>
  
</html>
