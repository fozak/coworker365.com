<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Insights Dashboard Role Privileges Issue - Insights - Frappe Forum</title>
    <meta name="description" content="Hi. I have created a dashboard using Frappe Insights. I want to assign different roles to that Dashboard. 

One Role can write a query, view Data Source and also edit Dashboard.
In another Role I just want them to see da&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.2 - https://github.com/discourse/discourse version 44986e4c0c3acf127ce03216227dd11cc78f4466">
<link rel="icon" type="image/png" href="https://discuss.coworker365.com/uploads/default/optimized/3X/a/5/a5e946e67fbe05a61d1c33d08894876d4d9dea7a_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="https://discuss.coworker365.com/uploads/default/optimized/3X/a/5/a5e946e67fbe05a61d1c33d08894876d4d9dea7a_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331" />

<link rel="search" type="application/opensearchdescription+xml" href="https://discuss.coworker365.com/opensearch.xml" title="Frappe Forum Search">

    <link href="/stylesheets/color_definitions_light_8_12_296e8563dbd3c739bd4eafc35307bea3d2a15178.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="8"/>

<link href="/stylesheets/common_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="/stylesheets/desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="/stylesheets/checklist_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="/stylesheets/discourse-details_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="/stylesheets/discourse-lazy-videos_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="/stylesheets/discourse-local-dates_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="/stylesheets/discourse-narrative-bot_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="/stylesheets/discourse-solved_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="/stylesheets/discourse-templates_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="/stylesheets/discourse-topic-voting_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="/stylesheets/docker_manager_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="/stylesheets/footnote_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="/stylesheets/poll_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="/stylesheets/spoiler-alert_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="/stylesheets/discourse-topic-voting_desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="/stylesheets/poll_desktop_eec39e19a85cf59c80446f577a88d854b2ec7e58.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="/stylesheets/common_theme_12_608350f9691b80d810a6d8eaf4a08f6acc589e94.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="12" data-theme-name="erpnext"/>
    <link href="/stylesheets/desktop_theme_12_1843eada91b7bd1c5a6c17799765c3af197a4c6e.css?__ws=discuss.coworker365.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="12" data-theme-name="erpnext"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Insights Dashboard Role Privileges Issue&#39;" href="https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331.rss" />
    <meta property="og:site_name" content="Frappe Forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://discuss.coworker365.com/uploads/default/original/3X/0/b/0b28794440eb26973e11119effb9e80dcb726e09.png" />
<meta property="og:image" content="https://discuss.coworker365.com/uploads/default/original/3X/0/b/0b28794440eb26973e11119effb9e80dcb726e09.png" />
<meta property="og:url" content="https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331" />
<meta name="twitter:url" content="https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331" />
<meta property="og:title" content="Insights Dashboard Role Privileges Issue" />
<meta name="twitter:title" content="Insights Dashboard Role Privileges Issue" />
<meta property="og:description" content="Hi. I have created a dashboard using Frappe Insights. I want to assign different roles to that Dashboard.   One Role can write a query, view Data Source and also edit Dashboard. In another Role I just want them to see dashboard with no additional permissions.  How can I do that?  Regards  Ghulam Abbas Zumar" />
<meta name="twitter:description" content="Hi. I have created a dashboard using Frappe Insights. I want to assign different roles to that Dashboard.   One Role can write a query, view Data Source and also edit Dashboard. In another Role I just want them to see dashboard with no additional permissions.  How can I do that?  Regards  Ghulam Abbas Zumar" />
<meta property="og:article:section" content="Business Apps" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Insights" />
<meta property="og:article:section:color" content="0088CC" />
<meta property="article:published_time" content="2024-06-11T05:09:04+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Insights Dashboard Role Privileges Issue","mainEntity":{"@type":"Question","name":"Insights Dashboard Role Privileges Issue","text":"Hi. I have created a dashboard using Frappe Insights. I want to assign different roles to that Dashboard.\n\nOne Role can write a query, view Data Source and also edit Dashboard.\n\nIn another Role I just want them to see dashboard with no additional permissions.\n\nHow can I do that?\n\nRegards\n\nGhulam Abb&hellip;","upvoteCount":0,"answerCount":0,"datePublished":"2024-06-11T05:09:04.584Z","author":{"@type":"Person","name":"Ghulam_Abbas_Zumar","url":"https://discuss.coworker365.com/u/Ghulam_Abbas_Zumar"}}}</script>
  </head>
  <body class="crawler ">
    <div class="erpnext-header">
    <a href="https://coworker365.com" target="_blank">coworker365.com</a>
    <a href="https://frappecloud.com" target="_blank">Frappe Cloud</a>
    <a href="https://docs.coworker365.com/" target="_blank">Documentation</a>
    <a href="https://coworker365.com/partners" target="_blank">Partners</a>
    <a href="https://frappe.school" target="_blank">Frappe School</a>
    <a href="https://frappecloud.com/marketplace" target="_blank">Marketplace</a>
    <a href="https://t.me/erpnext_public" target="_blank">Public Chat</a>
</div>

    <header>
  <a href="/">Frappe Forum</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/insights-dashboard-role-privileges-issue/126331">Insights Dashboard Role Privileges Issue</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="/c/business-apps/89" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Business Apps</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="/c/business-apps/insights/74" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Insights</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Insights Dashboard Role Privileges Issue'>
      <link itemprop='url' href='https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331'>
      <meta itemprop='datePublished' content='2024-06-11T05:09:04Z'>
        <meta itemprop='articleSection' content='Insights'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='Frappe'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://discuss.coworker365.com/uploads/default/original/3X/e/1/e1295d1f76ba489dd58f8c9b55eee88286fc9a31.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/Ghulam_Abbas_Zumar'><span itemprop='name'>Ghulam_Abbas_Zumar</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="https://discuss.coworker365.com/t/insights-dashboard-role-privileges-issue/126331">


              <span class="crawler-post-infos">
                  <time  datetime='2024-06-11T05:09:04Z' class='post-time'>
                    June 11, 2024,  5:09am
                  </time>
                  <meta itemprop='dateModified' content='2024-06-11T05:09:04Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi. I have created a dashboard using Frappe Insights. I want to assign different roles to that Dashboard.</p>
<ol>
<li>One Role can write a query, view Data Source and also edit Dashboard.</li>
<li>In another Role I just want them to see dashboard with no additional permissions.<br>
How can I do that?</li>
</ol>
<p>Regards<br>
Ghulam Abbas Zumar</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/nextchamp.saqib'><span itemprop='name'>nextchamp.saqib</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-06-21T06:31:40Z' class='post-time'>
                    June 21, 2024,  6:31am
                  </time>
                  <meta itemprop='dateModified' content='2024-06-21T06:31:40Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Permissions are being worked upon. A stable release will be available with version 3</p>
<p>However, it should be possible to apply custom role permission or user permissions to restrict specific dashboards/queries/data sources.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/kestrel'><span itemprop='name'>kestrel</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-07-18T16:11:01Z' class='post-time'>
                    July 18, 2024,  4:11pm
                  </time>
                  <meta itemprop='dateModified' content='2024-07-18T16:11:01Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Is this out yet?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/michelle'><span itemprop='name'>michelle</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-07T11:57:51Z' class='post-time'>
                    August 7, 2024, 11:57am
                  </time>
                  <meta itemprop='dateModified' content='2024-08-07T11:57:51Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>v3 is not yet out, you could expect it by end of the month. You can track the progress here: <a href="https://github.com/frappe/insights/pull/270" class="inline-onebox">feat!: Insights v3 by nextchamp-saqib · Pull Request #270 · frappe/insights · GitHub</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/myekini'><span itemprop='name'>myekini</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-26T13:18:09Z' class='post-time'>
                    September 26, 2024,  1:18pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-26T13:18:09Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>What does this mean, sorry . because i’ve been having issues with creating a user and sharing access to my company management. how do i go about that</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://discuss.coworker365.com/u/Chethank1407'><span itemprop='name'>Chethank1407</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-09-23T06:31:12Z' class='post-time'>
                    September 23, 2025,  6:31am
                  </time>
                  <meta itemprop='dateModified' content='2025-09-23T06:36:37Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I have created a dashboard in V3 stable version from administrator logic. It is Sales User dasboard. It has many charts, out of which, one chart is ‘Monthly Target’ analysis.</p>
<pre><code class="lang-auto">SELECT sp.name AS `Sales Person`,
       ml.month_key AS
 MONTH,
       ROUND(IFNULL(tgt.year_target,0)/12,2) AS `Monthly Target`,
       IFNULL(SUM(amt.achieved_amount),0) AS `Achieved Amount`
  FROM `tabSales Person` sp
  JOIN (
        SELECT DATE_FORMAT(DATE_ADD(CASE WHEN MONTH(CURDATE()) &gt;= 4 THEN CONCAT(YEAR(CURDATE()),'-04-01') ELSE CONCAT(YEAR(CURDATE())-1,'-04-01') END, INTERVAL n MONTH), '%Y-%m') AS month_key
          FROM (
                SELECT 0 AS n
             UNION ALL SELECT 1
             UNION ALL SELECT 2
             UNION ALL SELECT 3
             UNION ALL SELECT 4
             UNION ALL SELECT 5
             UNION ALL SELECT 6
             UNION ALL SELECT 7
             UNION ALL SELECT 8
             UNION ALL SELECT 9
             UNION ALL SELECT 10
             UNION ALL SELECT 11
               ) seq
       ) ml
    ON 1=1
  LEFT JOIN (
        SELECT parent AS `Sales Person`,
               SUM(target_amount) AS year_target
          FROM `tabTarget Detail`
         GROUP BY parent
       ) tgt
    ON tgt.`Sales Person` = sp.name
  LEFT JOIN (
        SELECT st.sales_person AS `Sales Person`,
               DATE_FORMAT(si.posting_date,'%Y-%m') AS month_key,
               SUM(si.base_grand_total * IFNULL(st.allocated_percentage,100)/100) AS achieved_amount
          FROM `tabSales Invoice` si
          JOIN `tabSales Team` st
            ON st.parent = si.name
         WHERE si.docstatus = 1
           AND si.posting_date BETWEEN (CASE WHEN MONTH(CURDATE()) &gt;= 4 THEN CONCAT(YEAR(CURDATE()),'-04-01') ELSE CONCAT(YEAR(CURDATE())-1,'-04-01') END) AND (CASE WHEN MONTH(CURDATE()) &gt;= 4 THEN CONCAT(YEAR(CURDATE())+1,'-03-31') ELSE CONCAT(YEAR(CURDATE()),'-03-31') END)
         GROUP BY `Sales Person`,
                  DATE_FORMAT(si.posting_date,'%Y-%m')
       ) amt
    ON amt.`Sales Person` = sp.name
   AND amt.month_key = ml.month_key
 GROUP BY sp.name,
          ml.month_key,
          tgt.year_target
 ORDER BY sp.name,
          ml.month_key
</code></pre>
<p>This SQL query works perfectly. I have added Sales Person filter too. From admin login, I can  select a particular Sales Person and see their performance. In V3, there is a feature introduced called ‘Apply User Permissions’. IN ERP site, I have applied a user permission that, one sales person should be able to see the data of other sales person, let it be Sales Person details, Sales Order details, everything is restricted to show only the current sales person user data.<br>
But in this dashboard, if login via any sales person account, I can still see all the Sales Person detail. I am working in my local site. I have only a single database.</p>
<p>Is this suppose to happen?<br>
Or have I wrongly understood the purpose of ‘Apply User Permissions’ settings?</p>
<p>My ultimate objective is:<br>
From admin login, I should see all the Sales Person data. From Sales Person login, I should see only my Sales Person data. Is this achievable in V3 in a single dashboard?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="erpnext-footer">
    <a href="https://coworker365.com">Frappe</a>
</div>
    
  </body>
  
</html>
