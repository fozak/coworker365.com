function getSVGIcon(name){if(name==='category'){return`<svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M15.7111 5.36833L13.7857 7.29371C13.5644 7.51504 13.2056 7.51504 12.9843 7.29371L11.0589 5.36833C10.8376 5.147 10.8376 4.78817 11.0589 4.56684L12.9843 2.64146C13.2056 2.42013 13.5644 2.42013 13.7857 2.64146L15.7111 4.56684C15.9325 4.78817 15.9325 5.147 15.7111 5.36833ZM16.4182 3.85973C17.0301 4.47158 17.0301 5.46359 16.4182 6.07544L14.4929 8.00082C13.881 8.61267 12.889 8.61267 12.2772 8.00082L10.3518 6.07544C9.73992 5.46359 9.73992 4.47158 10.3518 3.85973L12.2772 1.93435C12.889 1.3225 13.881 1.3225 14.4929 1.93435L16.4182 3.85973ZM6.93765 4.96763C6.93765 6.28107 5.8729 7.34582 4.55946 7.34582C3.24602 7.34582 2.18127 6.28107 2.18127 4.96763C2.18127 3.6542 3.24602 2.58945 4.55946 2.58945C5.8729 2.58945 6.93765 3.6542 6.93765 4.96763ZM7.93765 4.96763C7.93765 6.83335 6.42518 8.34582 4.55946 8.34582C2.69374 8.34582 1.18127 6.83335 1.18127 4.96763C1.18127 3.10191 2.69374 1.58945 4.55946 1.58945C6.42518 1.58945 7.93765 3.10191 7.93765 4.96763ZM15.039 11.2165H11.7313C11.4551 11.2165 11.2313 11.4403 11.2313 11.7165V15.0242C11.2313 15.3004 11.4551 15.5242 11.7313 15.5242H15.039C15.3152 15.5242 15.539 15.3004 15.539 15.0242V11.7165C15.539 11.4403 15.3152 11.2165 15.039 11.2165ZM11.7313 10.2165C10.9028 10.2165 10.2313 10.888 10.2313 11.7165V15.0242C10.2313 15.8527 10.9028 16.5242 11.7313 16.5242H15.039C15.8675 16.5242 16.539 15.8527 16.539 15.0242V11.7165C16.539 10.888 15.8675 10.2165 15.039 10.2165H11.7313ZM2.9054 11.2165H6.21317C6.48931 11.2165 6.71317 11.4403 6.71317 11.7165V15.0242C6.71317 15.3004 6.48931 15.5242 6.21317 15.5242H2.9054C2.62925 15.5242 2.4054 15.3004 2.4054 15.0242V11.7165C2.4054 11.4403 2.62925 11.2165 2.9054 11.2165ZM1.4054 11.7165C1.4054 10.888 2.07697 10.2165 2.9054 10.2165H6.21317C7.0416 10.2165 7.71317 10.888 7.71317 11.7165V15.0242C7.71317 15.8527 7.0416 16.5242 6.21317 16.5242H2.9054C2.07697 16.5242 1.4054 15.8527 1.4054 15.0242V11.7165Z" fill="#383838"></path>
    </svg>`;}else if(name==='rating'){return`<svg viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.876 5.71806L8.98143 2.56995L7.08686 5.71806C6.80761 6.18208 6.35211 6.51302 5.82451 6.63521L2.24503 7.46423L4.6536 10.2389C5.00862 10.6479 5.18261 11.1833 5.13578 11.7229L4.8181 15.3833L8.20125 13.9501C8.69991 13.7388 9.26294 13.7388 9.7616 13.9501L13.1447 15.3833L12.8271 11.7229C12.7802 11.1833 12.9542 10.6479 13.3092 10.2389L15.7178 7.46423L12.1383 6.63521C11.6107 6.51302 11.1552 6.18208 10.876 5.71806ZM9.83823 2.05431C9.44957 1.40849 8.51328 1.40849 8.12462 2.05431L6.23006 5.20242C6.09043 5.43443 5.86268 5.5999 5.59888 5.661L2.0194 6.49001C1.28508 6.66008 0.995751 7.55055 1.48986 8.11976L3.89844 10.8944C4.07595 11.0989 4.16294 11.3666 4.13953 11.6364L3.82185 15.2969C3.75668 16.0478 4.51415 16.5981 5.20819 16.3041L8.59134 14.8708C8.84067 14.7652 9.12218 14.7652 9.37151 14.8708L12.7547 16.3041C13.4487 16.5981 14.2062 16.0478 14.141 15.2969L13.8233 11.6364C13.7999 11.3666 13.8869 11.0989 14.0644 10.8944L16.473 8.11976C16.9671 7.55055 16.6778 6.66008 15.9435 6.49001L12.364 5.661C12.1002 5.5999 11.8724 5.43443 11.7328 5.20242L9.83823 2.05431Z" fill="#383838"></path>
    </svg>`;}}
window.addEventListener("DOMContentLoaded",async()=>{const filterArea=document.querySelector(".filter-area");const searchArea=document.querySelector(".search-area");const clearAllButton=document.querySelector(".clear-all");searchArea.appendChild(createSearchInput("Search for an app"));filterArea.appendChild(createFilter("category","Category",["All Categories",...page_data.categories,]));filterArea.appendChild(createFilter("rating","Rating",["All Ratings","4 star and above","3 star and above","2 star and above","1 star and above",]));if(clearAllButton){clearAllButton.addEventListener("click",function(){const params=new URLSearchParams(window.location.search);params.set("category","All Categories");params.delete("search");params.delete("rating");window.location.href=`/marketplace/search?${params.toString()}`;});}
function createFilter(name,label,options){const filter=document.createElement("div");filter.classList.add(`${name}-filter`);const params=new URLSearchParams(window.location.search);const value=params.get(name);filter.innerHTML=`
      ${getSVGIcon(name)}
      <select name="${name}" id="${name}">
        <option value="" disabled>${label}</option>
        ${options
          .map(
            (option) => `<option value="${typeof option === "object" ? option.value : option}"
${value==(typeof option==="object"?option.value:option)?"selected":""}>${typeof option==="object"?option.label:option}</option>`
          )
          .join("")}
      </select>
    `;filter.querySelector("select").addEventListener("change",function(){const params=new URLSearchParams(window.location.search);params.set(this.name,this.value);window.location.href=`/marketplace/search?${params.toString()}`;});return filter;}
function createSearchInput(placeholder="Search"){const searchInput=document.createElement("input");searchInput.type="text";searchInput.placeholder=placeholder;searchInput.autofocus=true;searchInput.value=new URLSearchParams(window.location.search).get("search");let debounceTimeout;function updateSearchParams(){const params=new URLSearchParams(window.location.search);if(searchInput.value===""){params.delete("search");}else{params.set("search",searchInput.value);}
window.location.href=`/marketplace/search?${params.toString()}`;}
searchInput.addEventListener("input",function(){clearTimeout(debounceTimeout);debounceTimeout=setTimeout(updateSearchParams,500);});return searchInput;}});