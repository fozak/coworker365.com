window.addEventListener("DOMContentLoaded",()=>{document.querySelector('.contact-us-form').addEventListener('submit',function(event){event.preventDefault();const formData=new FormData(this);fetch('/api/method/new-issue',{method:'POST',headers:{'Content-Type':'application/json',"X-Frappe-CSRF-Token":frappe.csrf_token},body:JSON.stringify(Object.fromEntries(formData)),}).then(response=>{if(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}
response.json();}).then(data=>{document.querySelector(".success-message").innerHTML="We received your message, we'll get back to you soon!";document.querySelector(".success-message").style.display="block";document.querySelector('.contact-us-form').style.display="none";}).catch(error=>{document.querySelector(".error-message").innerHTML="Something went wrong!";document.querySelector(".error-message").style.display="block";});});})